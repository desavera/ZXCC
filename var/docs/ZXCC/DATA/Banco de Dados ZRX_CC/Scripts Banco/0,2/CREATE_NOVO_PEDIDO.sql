USE [ZX_CC_DEV]
GO

/****** Object:  Table [dbo].[CLIENTES]    Script Date: 05/12/2014 14:29:49 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

SET ANSI_PADDING ON
GO

CREATE TABLE [dbo].[DADOS_INSTALACAO](
	[COD_DADOS_INSTALACAO] [int] IDENTITY(1,1) NOT NULL,
	[ENDERECO] [char](100) NOT NULL,
	[BAIRRO] [char](50) NOT NULL,
	[CIDADE] [char](50) NOT NULL,
	[UF] [char](2) NOT NULL,
	[COD_PAIS] [int] NOT NULL,
	[COMPLEMENTO] [char](30) NULL,
	[CEP] [char](9) NOT NULL,
	[REFERENCIA] [char](250) NULL,
	[DDD] [char](3) NOT NULL,
	[NUMERO] [char](11) NOT NULL,
	[NOME] [char] (50) NULL,
	[COD_PEDIDO] [int] NOT NULL,
	[DELETED] [int] NOT NULL
	
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[PERGUNTA_PROCEDIMENTO](
	[COD_PERGUNTA_PROCEDIMENTO] [int] IDENTITY(1,1) NOT NULL,
	[COD_UNIDADE] [int] NOT NULL,
	[PERGUNTA] [char] (150) NOT NULL,
	[RESPOSTA] [char] (150) NOT NULL,
	[SENHA] [char] (5) NOT NULL,
	[COD_UNIDADE_CADASTRADA] [int] NOT NULL,
	[COD_CLIENTE] [int] NOT NULL,
	[DELETED] [int] NOT NULL
	
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[CONTATO_PROCEDIMENTO](
	[COD_CONTATO_PROCEDIMENTO] [int] IDENTITY(1,1) NOT NULL,
	[COD_CLIENTE] [int] NOT NULL,
	[COD_CONTATO] [int] NOT NULL,
	[COD_UNIDADE_CADASTRADA] [int] NOT NULL,
	[COD_UNIDADE] [int] NOT NULL
	
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[EQUIP_ACESSORIO_PEDIDO](
	[COD_EQUIP_ACESSORIO_PEDIDO] [int] IDENTITY(1,1) NOT NULL,
	[COD_EQUIP_ACESSORIO] [int] NOT NULL,
	[COD_PEDIDO] [int] NOT NULL,
	[QUANTIDADE] [int] NOT NULL,
	[VALOR_UNITARIO] [decimal] (5,2) NOT NULL,
	[DELETED] [int] NOT NULL
	
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[TIPO_EQUIP_ACESSORIO](
	[COD_EQUIP_ACESSORIO] [int] IDENTITY(1,1) NOT NULL,
	[NOME_EQUIP_ACESSORIO] [char] (100) NOT NULL,
	[DELETED] [int] NOT NULL
	
) ON [PRIMARY]

GO

ALTER TABLE [dbo].[DADOS_INSTALACAO]
ADD CONSTRAINT PK_COD_DADOS_INSTALACAO PRIMARY KEY (COD_DADOS_INSTALACAO);

ALTER TABLE [dbo].[PERGUNTA_PROCEDIMENTO]
ADD CONSTRAINT PK_COD_PERGUNTA_PROCEDIMENTO PRIMARY KEY (COD_PERGUNTA_PROCEDIMENTO);

ALTER TABLE [dbo].[CONTATO_PROCEDIMENTO]
ADD CONSTRAINT COD_CONTATO_PROCEDIMENTO PRIMARY KEY (COD_CONTATO_PROCEDIMENTO);

ALTER TABLE [dbo].[EQUIP_ACESSORIO_PEDIDO]
ADD CONSTRAINT PK_COD_EQUIP_ACESSORIO_PEDIDO PRIMARY KEY (COD_EQUIP_ACESSORIO_PEDIDO);

ALTER TABLE [dbo].[TIPO_EQUIP_ACESSORIO]
ADD CONSTRAINT PK_COD_EQUIP_ACESSORIO PRIMARY KEY (COD_EQUIP_ACESSORIO);

ALTER TABLE DADOS_INSTALACAO
ADD CONSTRAINT FK_DADOS_INSTALACAO_PEDIDO_COD_PEDIDO
FOREIGN KEY(COD_PEDIDO)
REFERENCES PEDIDO(COD_PEDIDO);

ALTER TABLE PERGUNTA_PROCEDIMENTO
ADD CONSTRAINT FK_PERGUNTA_PROCEDIMENTO_TIPO_UNIDADE_COD_UNIDADE
FOREIGN KEY(COD_UNIDADE)
REFERENCES TIPO_UNIDADE(COD_UNIDADE);

ALTER TABLE PERGUNTA_PROCEDIMENTO
ADD CONSTRAINT FK_PERGUNTA_PROCEDIMENTO_CLIENTE_COD_CLIENTE
FOREIGN KEY(COD_CLIENTE)
REFERENCES CLIENTE(COD_CLIENTE);

ALTER TABLE CONTATO_PROCEDIMENTO
ADD CONSTRAINT FK_CONTATO_PROCEDIMENTO_TIPO_UNIDADE_COD_UNIDADE
FOREIGN KEY(COD_UNIDADE)
REFERENCES TIPO_UNIDADE(COD_UNIDADE);

ALTER TABLE CONTATO_PROCEDIMENTO
ADD CONSTRAINT FK_CONTATO_PROCEDIMENTO_CLIENTE_COD_CLIENTE
FOREIGN KEY(COD_CLIENTE)
REFERENCES CLIENTE(COD_CLIENTE);

ALTER TABLE CONTATO_PROCEDIMENTO
ADD CONSTRAINT FK_CONTATO_PROCEDIMENTO_CONTATO_CLIENTE_COD_CONTATO_CLI
FOREIGN KEY(COD_CONTATO)
REFERENCES CONTATO_CLIENTE(COD_CONTATO_CLI);

ALTER TABLE EQUIP_ACESSORIO_PEDIDO
ADD CONSTRAINT FK_EQUIP_ACESSORIO_PEDIDO_TIPO_EQUIP_ACESSORIO_COD_EQUIP_ACESSORIO
FOREIGN KEY(COD_EQUIP_ACESSORIO)
REFERENCES TIPO_EQUIP_ACESSORIO(COD_EQUIP_ACESSORIO);

ALTER TABLE EQUIP_ACESSORIO_PEDIDO
ADD CONSTRAINT FK_EQUIP_ACESSORIO_PEDIDO_PEDIDO_COD_PEDIDO
FOREIGN KEY(COD_PEDIDO)
REFERENCES PEDIDO(COD_PEDIDO);