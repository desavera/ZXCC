CREATE TABLE [dbo].[NUMERO_OS](
	[NUM_OS] [int] IDENTITY(1,1) NOT NULL,
	[COD_USUARIO] [int] NOT NULL,
	[DATA_GERACAO] [date] NOT NULL,
	[DELETED] [int] NOT NULL,
 CONSTRAINT [PK_NUM_OS] PRIMARY KEY CLUSTERED 
(
	[NUM_OS] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[OBS_OS](
	[COD_OBS_OS] [int] IDENTITY(1,1) NOT NULL,
	[INDICE] [int] NOT NULL,
	[OBSERVACAO] [char](200) NOT NULL,
	[COD_OS] [int] NOT NULL,
	[DELETED] [int] NOT NULL,
 CONSTRAINT [PK_COD_OBS_OS] PRIMARY KEY CLUSTERED 
(
	[COD_OBS_OS] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[TESTES_OS](
	[COD_TESTES_OS] [int] IDENTITY(1,1) NOT NULL,
	[COD_OS] [int] NOT NULL,
	[IGNICAO] [int] NOT NULL,
	[BLOQUEIO] [int] NOT NULL,
	[GPS] [int] NOT NULL,
	[GPRS] [int] NOT NULL,
	[SIRENE] [int] NOT NULL,
	[PANICO] [int] NOT NULL,
	[RPM] [int] NOT NULL,
	[DELETED] [int] NOT NULL,
 CONSTRAINT [PK_COD_TESTES_OS] PRIMARY KEY CLUSTERED 
(
	[COD_TESTES_OS] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[OS](
	[COD_OS] [int] IDENTITY(1,1) NOT NULL,
	[NUM_OS] [int] NOT NULL,
	[COD_TECNICO] [int] NULL,
	[ARRAIVE_TIME] [time(0)] NULL,
	[LEAVE_TIME] [time(0)] NULL,
	[FRUSTRADA] [int] NULL,
	[TIPO_OS] [int] NOT NULL,
	[HAVE_TEST] [int] NOT NULL,
	[DELETED] [int] NOT NULL,
 CONSTRAINT [PK_COD_OS] PRIMARY KEY CLUSTERED 
(
	[COD_OS] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[TECNICO](
	[COD_TECNICO] [int] IDENTITY(1,1) NOT NULL,
	[TIPO] [int] NOT NULL,
	[NOME] [char](50) NOT NULL,
	[NOME_FANTASIA] [char] (50) NULL,
	[SITE] [char](60) NULL,
	[DATA_NASCIMENTO] [date] NOT NULL,
	[DATA_INGRESSO] [date] NOT NULL,
	[DELETED] [int] NOT NULL,
 CONSTRAINT [PK_COD_TECNICO] PRIMARY KEY CLUSTERED 
(
	[COD_TECNICO] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[ENDERECO_TECNICO](
	[COD_ENDERECO_TECNICO] [int] IDENTITY(1,1) NOT NULL,
	[COD_TECNICO] [int] NOT NULL,
	[ENDERECO] [char](100) NOT NULL,
	[BAIRRO] [char](50) NOT NULL,
	[CIDADE] [char](50) NOT NULL,
	[UF] [char](2) NOT NULL,
	[COD_PAIS] [int] NOT NULL,
	[COMPLEMENTO] [char](30) NULL,
	[CEP] [char](9) NOT NULL,
	[COD_ENDERECO] [int] NOT NULL,
 CONSTRAINT [PK_COD_ENDERECO_TECNICO] PRIMARY KEY CLUSTERED 
(
	[COD_ENDERECO_TECNICO] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[CONTATO_TECNICO](
	[COD_CONTATO_TECNICO] [int] IDENTITY(1,1) NOT NULL,
	[COD_TECNICO] [int] NOT NULL,
	[COD_CONTATO] [int] NOT NULL,
	[DDD] [char](3) NOT NULL,
	[NUMERO] [char](10) NOT NULL,
	[COD_PAIS] [int] NULL,
	[NOME] [char] (50) NULL,
	[COD_GRAU] [int] NOT NULL,
 CONSTRAINT [PK_COD_CONTATO_TECNICO] PRIMARY KEY CLUSTERED 
(
	[COD_CONTATO_TECNICO] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[DOCUMENTO_TECNICO](
	[COD_DOCUMENTO_TECNICO] [int] IDENTITY(1,1) NOT NULL,
	[COD_TECNICO] [int] NOT NULL,
	[COD_DOCUMENTO] [int] NOT NULL,
	[NUMERO] [char](20) NOT NULL,
	[DATA_EMISSAO] [date] NULL,
	[ORGAO_EMISSOR] [char] (20) NULL,
	[DELETED] [int] NOT NULL,
 CONSTRAINT [PK_COD_DOCUMENTO_TECNICO] PRIMARY KEY CLUSTERED 
(
	[COD_DOCUMENTO_TECNICO] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[EMAIL_TECNICO](
	[COD_EMAIL_TECNICO] [int] IDENTITY(1,1) NOT NULL,
	[COD_TECNICO] [int] NOT NULL,
	[EMAIL] [char] (100) NOT NULL,
 CONSTRAINT [PK_COD_EMAIL_TECNICO] PRIMARY KEY CLUSTERED 
(
	[COD_EMAIL_TECNICO] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

ALTER TABLE OS
ADD CONSTRAINT FK_OS_NUMERO_OS_NUM_OS
FOREIGN KEY(NUM_OS)
REFERENCES NUMERO_OS(NUM_OS);

ALTER TABLE OS
ADD CONSTRAINT FK_OS_TECNICO_COD_TECNICO
FOREIGN KEY(COD_TECNICO)
REFERENCES TECNICO(COD_TECNICO);

ALTER TABLE TESTES_OS
ADD CONSTRAINT FK_TESTES_OS_OS_COD_OS
FOREIGN KEY(COD_OS)
REFERENCES OS(COD_OS);

ALTER TABLE OBS_OS
ADD CONSTRAINT FK_OBS_OS_OS_COD_OS
FOREIGN KEY(COD_OS)
REFERENCES OS(COD_OS);

ALTER TABLE DOCUMENTO_TECNICO
ADD CONSTRAINT FK_DOCUMENTO_TECNICO_TECNICO_COD_TECNICO
FOREIGN KEY(COD_TECNICO)
REFERENCES TECNICO(COD_TECNICO);

ALTER TABLE ENDERECO_TECNICO
ADD CONSTRAINT FK_ENDERECO_TECNICO_TECNICO_COD_TECNICO
FOREIGN KEY(COD_TECNICO)
REFERENCES TECNICO(COD_TECNICO);

ALTER TABLE CONTATO_TECNICO
ADD CONSTRAINT FK_CONTATO_TECNICO_TECNICO_COD_TECNICO
FOREIGN KEY(COD_TECNICO)
REFERENCES TECNICO(COD_TECNICO);

ALTER TABLE EMAIL_TECNICO
ADD CONSTRAINT FK_EMAIL_TECNICO_TECNICO_COD_TECNICO
FOREIGN KEY(COD_TECNICO)
REFERENCES TECNICO(COD_TECNICO);
 
ALTER TABLE ENDERECO_TECNICO
ADD CONSTRAINT FK_ENDERECO_TECNICO_PAIS_COD_PAIS
FOREIGN KEY(COD_PAIS)
REFERENCES PAIS(COD_PAIS);    

ALTER TABLE ENDERECO_TECNICO
ADD CONSTRAINT FK_ENDERECO_TECNICO_TIPO_ENDERECO_COD_ENDERECO
FOREIGN KEY(COD_ENDERECO)
REFERENCES TIPO_ENDERECO(COD_ENDERECO);

ALTER TABLE CONTATO_TECNICO
ADD CONSTRAINT FK_CONTATO_TECNICO_TIPO_CONTATO_COD_CONTATO
FOREIGN KEY(COD_CONTATO)
REFERENCES TIPO_CONTATO(COD_CONTATO);

ALTER TABLE DOCUMENTO_TECNICO
ADD CONSTRAINT FK_DOCUMENTO_TECNICO_TIPO_DOCUMENTO_COD_DOCUMENTO
FOREIGN KEY(COD_DOCUMENTO)
REFERENCES TIPO_DOCUMENTO(COD_DOCUMENTO);